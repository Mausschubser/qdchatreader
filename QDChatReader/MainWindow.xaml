<Window x:Class="QDChatReader.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QDChatReader"
        mc:Ignorable="d"
        Title="QD Chat Reader" Height="480" Width="600" Loaded="Window_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="50" />
            <RowDefinition Height="40*"/>
            <RowDefinition Height="60*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="120" />
            <ColumnDefinition Width="100*" MinWidth="200" />
        </Grid.ColumnDefinitions>
        <Button x:Name="seekButton" Content="Scan iTunes..." HorizontalAlignment="Left" Margin="10,13,0,0" VerticalAlignment="Top" Width="100" Click="seekButton_Click"/>
        <Button x:Name="loadDbButton" Content="Select Chat DB..." HorizontalAlignment="Left" Margin="10,13,0,0" Grid.Row="1" VerticalAlignment="Top" Width="100" Click="loadDbButton_Click"/>
        <Button x:Name="button1" Content="Save Chat..." HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="2" VerticalAlignment="Top" Width="100" Click="saveButton_Click"/>
        <Label x:Name="label1" Content="Seek iTunes DataBase" Grid.Column="1" HorizontalAlignment="Left" Margin="10,10,0,0" VerticalAlignment="Top" Width="377"/>
        <TextBox x:Name="fileNameLabel" Text="{Binding Path=ActiveDBFile }" Grid.Column="1" HorizontalAlignment="Left" Margin="10,10,0,0" Grid.Row="1" VerticalAlignment="Top" Width="377" Height="30" TextChanged="fileNameLabel_TextChanged"/>
        <DataGrid x:Name="personGridView" ItemsSource="{Binding personTable}" Margin="10,10,0,10" Grid.Row="3" Grid.ColumnSpan="2" AutoGenerateColumns="False" GotFocus="personGridView_GotFocus" HorizontalAlignment="Left" SelectionChanged="personGridView_SelectionChanged" CellEditEnding="personGridView_CellEditEnding">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Name" Width="Auto" Binding="{Binding Name}" />
                <DataGridTextColumn Header="ID" Binding="{Binding ID}" />
                <DataGridTextColumn Header="1st" Binding="{Binding 1stContact, StringFormat=\{0:dd.MM.yy HH:mm:ss\}}" />
                <DataGridTextColumn Header="#" Binding="{Binding Count}" />
            </DataGrid.Columns>
        </DataGrid>
        <DataGrid x:Name="chatGridView" ItemsSource="{Binding}" Margin="10" Grid.Row="4" Grid.ColumnSpan="2" AutoGenerateColumns="False" CanUserSortColumns="False">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Datum" Width="120" Binding="{Binding Date, StringFormat=\{0:dd.MM.yy HH:mm:ss\}}" />
                <DataGridTextColumn Header="&lt;&gt;" Width="50" Binding="{Binding Direction}" />
                <DataGridTextColumn Header="Chat" Width="*" Binding="{Binding Chat}" />
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>
